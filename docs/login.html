<!DOCTYPE html>
<html>
<head>
<title>Login | Khola Pata</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{font-family:Inter,sans-serif;background:#f4f6f3}
.container{max-width:420px;margin:60px auto}
.card{background:#fff;padding:20px;border-radius:12px}
input,select,button{
  width:100%;padding:12px;margin-top:10px;
}
button{background:#2e7d32;color:#fff;border:none;border-radius:8px}
</style>
</head>
<body>

<div class="container">
  <div class="card">
    <h2>Login / Register</h2>

    <input id="name" placeholder="Your Name">
    <input id="phone" placeholder="Mobile Number">

    <select id="role">
      <option value="buyer">Buyer</option>
      <option value="agent">Local Agent (Dalal)</option>
    </select>

    <button onclick="login()">Continue</button>

    <p style="font-size:12px;color:#555;margin-top:12px">
      No password required. Demo mode.
    </p>
  </div>
</div>

<script>
function login(){
  const user={
    name: name.value,
    phone: phone.value,
    role: role.value,
    time: new Date().toISOString()
  };

  if(!user.name || !user.phone){
    alert("Please enter name and phone");
    return;
  }

  // Save session
  localStorage.setItem("kp_user",JSON.stringify(user));

  // Log data (THIS IS IMPORTANT)
  let logs=JSON.parse(localStorage.getItem("kp_logins")||"[]");
  logs.push(user);
  localStorage.setItem("kp_logins",JSON.stringify(logs));

  // Route
  if(user.role==="agent"){
    location.href="agent-dashboard.html";
  }else{
    location.href="index.html";
  }
}
</script>

</body>
</html>