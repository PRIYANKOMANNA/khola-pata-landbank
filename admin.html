<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Dashboard | Khola Pata</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Inter;background:#f4f6f3;margin:0}
header{background:#1f4f2e;color:#fff;padding:16px}
.section{max-width:900px;margin:20px auto}
.card{background:#fff;padding:14px;margin-bottom:12px;border-radius:10px}
button{padding:8px 14px;margin-right:6px}
.approve{background:#2e7d32;color:#fff}
.reject{background:#c62828;color:#fff}
</style>
</head>
<body>

<header>
  <h2>üõ°Ô∏è Admin Control Panel</h2>
</header>

<div class="section">
  <h3>Dalal Applications</h3>
  <div id="dalals"></div>
</div>

<script>
let dalals=JSON.parse(localStorage.getItem("dalalRequests")||"[]");
let verified=JSON.parse(localStorage.getItem("verifiedDalals")||"[]");

function render(){
  dalalsDiv.innerHTML="";
  if(!dalals.length){
    dalalsDiv.innerHTML="<p>No pending applications</p>";
    return;
  }
  dalals.forEach((d,i)=>{
    dalalsDiv.innerHTML+=`
      <div class="card">
        <b>${d.name}</b><br>
        üìû ${d.phone}<br>
        üìç ${d.area}<br>
        <button class="approve" onclick="approve(${i})">Approve</button>
        <button class="reject" onclick="reject(${i})">Reject</button>
      </div>`;
  });
}
function approve(i){
  dalals[i].status="verified";
  verified.push(dalals[i]);
  dalals.splice(i,1);
  save();
}
function reject(i){
  dalals.splice(i,1);
  save();
}
function save(){
  localStorage.setItem("dalalRequests",JSON.stringify(dalals));
  localStorage.setItem("verifiedDalals",JSON.stringify(verified));
  render();
}
const dalalsDiv=document.getElementById("dalals");
render();
</script>

</body>
</html>